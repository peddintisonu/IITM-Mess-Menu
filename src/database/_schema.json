{
	"_comment": "This file is a template and schema guide for messMenu.json. DO NOT EDIT THE LIVE APP's DATA HERE. Copy these structures into the main file.",

	"versions": {
		"_guide": [
			"1. SNAPSHOTS: Each version is independent. It must contain FULL data (Common Items + Schedule). It does not inherit from previous versions.",
			"2. NAMING: The key must be the Start Date (YYYY-MM-DD).",
			"3. HIERARCHY: Categories -> Week Cycle (e.g., Week_A) -> Schedule -> Day -> Meal.",
			"4. STYLING: Wrap text in *asterisks* to make it *Bold* (e.g., '*Chicken Biryani*')."
		],

		"YYYY-MM-DD": {
			"Messmenu": {
				"Categories": {
					"Category_Name": {
						"common_items": {
							"_comment": "Items served DAILY for this specific meal type, regardless of the day.",
							"Breakfast": "Brown Bread, Butter, Jam, Tea, Coffee, Milk",
							"Lunch": "Plain Rice, Phulka, Curd, Pickle, Fryums",
							"Snacks": "Tea, Coffee, Milk",
							"Dinner": "Plain Rice, Curd, Pickle"
						},
						"Week_Letter": {
							"schedule": {
								"DayOfWeek": {
									"Meal": ["Item 1", "Item 2", "*Special Item 3*"]
								}
							}
						}
					}
				}
			}
		}
	},

	"cycles": [
		{
			"name": "User-friendly name (e.g., July 28, 2025 to Sep 14, 2025)",
			"startDate": "YYYY-MM-DD",
			"endDate": "YYYY-MM-DD"
		}
	],

	"overrides": {
		"_guide": [
			"1. PURPOSE: Permanent patches to the current menu (e.g., Committee changes Tuesday Dinner forever).",
			"2. SCOPE: Applies from the key Date (YYYY-MM-DD) onwards. Valid ONLY for the current Base Version.",
			"3. LIMITATION: These do NOT carry over to a new Base Version. If a new version starts later, these are ignored.",
			"4. STRUCTURE: Must mirror the exact path in 'versions' (Category -> Week -> Schedule -> Day -> Meal)."
		],

		"YYYY-MM-DD": {
			"Category_Name": {
				"Week_Letter": {
					"schedule": {
						"DayOfWeek": {
							"Meal": ["New Item 1", "*New Special Item 2*"]
						}
					}
				}
			}
		}
	},

	"eventOverrides": [
		{
			"_guide": [
				"1. HIERARCHY: Rules process Top-to-Bottom. Recommended Order: Remap -> Override -> Addon.",
				"2. SYNTAX: Use 'All_Categories' to apply items to everyone. If a specific category (e.g. South_Veg) is also defined, it will IGNORE the global list and use the specific one.",
				"3. STYLING: Wrap text in *asterisks* to make it *Bold* (e.g., '*Special Sweet*')."
			],

			"eventName": "TEMPLATE: Event Name (e.g., Diwali Special)",
			"description": "Banner text shown to user (e.g., 'Happy Diwali! ðŸª”') (Optional description)",
			"startDate": "YYYY-MM-DD",
			"endDate": "YYYY-MM-DD",
			"rules": [
				{
					"_comment": "TYPE 1: REMAP. Copies a menu from another day. Use this first (e.g., Sunday Menu on a Tuesday).",
					"type": "remap",
					"onDate": "YYYY-MM-DD",
					"targetMeal": "Breakfast",
					"sourceDay": "Sunday",
					"description": "Holiday Schedule: Sunday Menu served. (Optional description)"
				},
				{
					"_comment": "TYPE 2: OVERRIDE. Completely deletes the old meal and replaces it with this list.",
					"type": "override",
					"onDate": "YYYY-MM-DD",
					"targetMeal": "Lunch",
					"description": "Special Feast Menu (Optional description)",
					"items": {
						"All_Categories": ["*Item 1*", "Item 2"],
						"North_Veg_No_Onion_Garlic": [
							"*Item 1 (Special for North Veg No Onion Garlic)*",
							"Item 2 (Special for North Veg No Onion Garlic)"
						]
					}
				},
				{
					"_comment": "TYPE 3: ADDON. Appends these items to the END of the existing meal (doesn't delete anything).",
					"type": "addon",
					"onDate": "YYYY-MM-DD",
					"targetMeal": "Dinner",
					"description": "Sweet distributed with Dinner. (Optional description)",
					"items": {
						"All_Categories": ["*Item 1*"],
						"Unified_Veg": ["Item 2 (Special for Unified Veg)"]
					}
				}
			]
		}
	]
}
